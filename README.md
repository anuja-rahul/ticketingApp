# Ticketing App


## *Project proposal*

[![](https://mermaid.ink/img/pako:eNrVV21v2zYQ_iuCgAI25ji1HL-iC5o0weYi64rGa9HBXxjxLBGRSIGknLpZ8tt3lChZUpTEWbEB8wdD4t3z3AvvjtSt6wsK7txdcT8iSp0xEkgSr7iDv2zFWTL_GrRzm6-Z35s351wzvT0-3q395FwIHjiMVpcutWS4CBvg-gOJoSpbcA0BSIdsCIvIVQS5HVXV2QhGHUKpFXUY144vUq67D7QkxGJjOTpWfLfi1UA-A6dCVgMpsCl_BPIuVVrE8DJQ7sRHIaI6TG25H0rB2XegraHp_Ln7KMhuxR6x5sJLkBvmQ4v3e1i2xpJU-iFR-5j7BIlQTAu5rVfLbr1eMYpsoGPN5B5055aqqrZmnJ5uF7RjKwyVfk80E5xE97n2_RNOvRNcSxFF9U00TqmKrO4YyhLBFeRlfn_BlL53AtAnUVRkrfuEvnXKIPLHmvd7AMvdaWRnD2hjuzKjOXpB2_fu_U17ndjmDYCDJBqW4hp45w8F8gw0tqxy0t1zzbNTrHwg3NmQiNESaem0eek5T_M0PDxJddjqYpUlEoSa99Ot-ec4bQqTqX3vtkRHkBqHE_PRz6Z-r1BK0IkbIR_JnzH3I9OxMNciKgy3iLBsQT3qz0s7sewnA763HfdMHhtmL0QQNAdlJIICHINSJADsXTN_WhnOpRTyV8Jp1OQJs8VM3jn_5kPmrdNC9uoV9kVEjFiFLFHOFegbANQ1W8JAOcjkqLyWbPoezK6Dg-Ni-M2dlRsTjo6rlVtVL8pxp1shMChMVgOSHQg7_YLBKPskihralbHVjmF8g62UobK4T3aVjNHnVNXGMSyVVjcURWvnWSnaFSfCl2XhTJOhUVyGRQLuMB7xTwdQJTKoauPtgliGEgi1u1SefJWI7Bl-cPDXsfMp5dxcHPJ0xEkEMTKWbpRn9z7KJe9xdbcyRyn6Y89HnF4t7A8gZUZK3FqKuAwSOyWPEExBqwcO2E4yTFGm6mu2yaq31fjz6hXuWo8ZSN5aqvClzcAemCyu9x9P6t33T26Rbxe1aff2F1uj9DOJUugobV6CrfOzYyVobLlNoL84O_-wXCy_dv_lO-mz19G9b2cvHdI2hS23ptZRXtwIHlyffuAU-6925399Jro9F1snJozid1VmauXisMNoXNM9lMhr0zN3qIdTUFzinHPnWqbQc9PETGD7EVZfPKfGR3e-JpHCRXPdAXy9dTXmFw0FeElFRl_wNQvMeiojXA61TtT88NCI-wHTYXrV90V8qBgNidThZjY-HHvjKfGGMJ4MyWg4pP7VYDZde0eDNZ28HnjEvbvruQnhhvWbOx9M--PpcDwYj2beaHg0nXo9d-vOj7z-kTcbTyaT2WDizQYjBH0XAsN43Z8Mhqg-mg48b4yIWc-FLJzf8o_P7Bu050qRBmEZIRr8M4ObLNz9DX5DsRY?type=png)](https://mermaid.live/edit#pako:eNrVV21v2zYQ_iuCgAI25ji1HL-iC5o0weYi64rGa9HBXxjxLBGRSIGknLpZ8tt3lChZUpTEWbEB8wdD4t3z3AvvjtSt6wsK7txdcT8iSp0xEkgSr7iDv2zFWTL_GrRzm6-Z35s351wzvT0-3q395FwIHjiMVpcutWS4CBvg-gOJoSpbcA0BSIdsCIvIVQS5HVXV2QhGHUKpFXUY144vUq67D7QkxGJjOTpWfLfi1UA-A6dCVgMpsCl_BPIuVVrE8DJQ7sRHIaI6TG25H0rB2XegraHp_Ln7KMhuxR6x5sJLkBvmQ4v3e1i2xpJU-iFR-5j7BIlQTAu5rVfLbr1eMYpsoGPN5B5055aqqrZmnJ5uF7RjKwyVfk80E5xE97n2_RNOvRNcSxFF9U00TqmKrO4YyhLBFeRlfn_BlL53AtAnUVRkrfuEvnXKIPLHmvd7AMvdaWRnD2hjuzKjOXpB2_fu_U17ndjmDYCDJBqW4hp45w8F8gw0tqxy0t1zzbNTrHwg3NmQiNESaem0eek5T_M0PDxJddjqYpUlEoSa99Ot-ec4bQqTqX3vtkRHkBqHE_PRz6Z-r1BK0IkbIR_JnzH3I9OxMNciKgy3iLBsQT3qz0s7sewnA763HfdMHhtmL0QQNAdlJIICHINSJADsXTN_WhnOpRTyV8Jp1OQJs8VM3jn_5kPmrdNC9uoV9kVEjFiFLFHOFegbANQ1W8JAOcjkqLyWbPoezK6Dg-Ni-M2dlRsTjo6rlVtVL8pxp1shMChMVgOSHQg7_YLBKPskihralbHVjmF8g62UobK4T3aVjNHnVNXGMSyVVjcURWvnWSnaFSfCl2XhTJOhUVyGRQLuMB7xTwdQJTKoauPtgliGEgi1u1SefJWI7Bl-cPDXsfMp5dxcHPJ0xEkEMTKWbpRn9z7KJe9xdbcyRyn6Y89HnF4t7A8gZUZK3FqKuAwSOyWPEExBqwcO2E4yTFGm6mu2yaq31fjz6hXuWo8ZSN5aqvClzcAemCyu9x9P6t33T26Rbxe1aff2F1uj9DOJUugobV6CrfOzYyVobLlNoL84O_-wXCy_dv_lO-mz19G9b2cvHdI2hS23ptZRXtwIHlyffuAU-6925399Jro9F1snJozid1VmauXisMNoXNM9lMhr0zN3qIdTUFzinHPnWqbQc9PETGD7EVZfPKfGR3e-JpHCRXPdAXy9dTXmFw0FeElFRl_wNQvMeiojXA61TtT88NCI-wHTYXrV90V8qBgNidThZjY-HHvjKfGGMJ4MyWg4pP7VYDZde0eDNZ28HnjEvbvruQnhhvWbOx9M--PpcDwYj2beaHg0nXo9d-vOj7z-kTcbTyaT2WDizQYjBH0XAsN43Z8Mhqg-mg48b4yIWc-FLJzf8o_P7Bu050qRBmEZIRr8M4ObLNz9DX5DsRY)

[//]: # (```mermaid)

[//]: # ()
[//]: # (classDiagram)

[//]: # (    class Ticket {)

[//]: # (        <<Entity>>)

[//]: # (        + Long id)

[//]: # (        + String eventName)

[//]: # (        + Integer availableTickets)

[//]: # (        + void addTickets&#40;int count&#41;)

[//]: # (        + void removeTicket&#40;&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class Vendor {)

[//]: # (        + void run&#40;&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class Customer {)

[//]: # (        + void run&#40;&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class TicketPool {)

[//]: # (        + synchronized void addTickets&#40;int tickets&#41;)

[//]: # (        + synchronized Ticket removeTicket&#40;&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class TicketService {)

[//]: # (        + void addTickets&#40;int tickets&#41;)

[//]: # (        + Ticket purchaseTicket&#40;&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class TicketRepository {)

[//]: # (        <<Repository>>)

[//]: # (        + save&#40;Ticket ticket&#41;: Ticket)

[//]: # (        + findById&#40;Long id&#41;: Optional~Ticket~)

[//]: # (    })

[//]: # ()
[//]: # (    class TicketController {)

[//]: # (        <<RestController>>)

[//]: # (        + ResponseEntity~List~ getAllTickets&#40;&#41;)

[//]: # (        + ResponseEntity~Ticket~ getTicketById&#40;Long id&#41;)

[//]: # (        + ResponseEntity~Ticket~ addTicket&#40;Ticket ticket&#41;)

[//]: # (        + ResponseEntity~Ticket~ purchaseTicket&#40;Long ticketId&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class JwtService {)

[//]: # (        + String generateToken&#40;UserDetails userDetails&#41;)

[//]: # (        + Boolean validateToken&#40;String token, UserDetails userDetails&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class AuthService {)

[//]: # (        + UserDetails loadUserByUsername&#40;String username&#41;)

[//]: # (        + String authenticate&#40;String username, String password&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class User {)

[//]: # (        <<Entity>>)

[//]: # (        + Long id)

[//]: # (        + String username)

[//]: # (        + String password)

[//]: # (        + String roles)

[//]: # (    })

[//]: # ()
[//]: # (    class UserRepository {)

[//]: # (        <<Repository>>)

[//]: # (        + Optional~User~ findByUsername&#40;String username&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class Logger {)

[//]: # (        + log&#40;String message&#41;: void)

[//]: # (    })

[//]: # ()
[//]: # (    class ErrorHandler {)

[//]: # (        + handleError&#40;Exception e&#41;: void)

[//]: # (    })

[//]: # ()
[//]: # (%% Relationships between entities and services)

[//]: # (    TicketRepository --> Ticket : "manages")

[//]: # (    TicketService --> TicketRepository : "uses")

[//]: # (    TicketPool --> TicketService : "calls")

[//]: # (    TicketController --> TicketService : "invokes")

[//]: # ()
[//]: # (%% Authentication)

[//]: # (    AuthService --> JwtService : "generates and validates JWT")

[//]: # (    AuthService --> UserRepository : "retrieves")

[//]: # (    TicketController --> AuthService : "authenticates")

[//]: # ()
[//]: # (%% Threads and synchronization)

[//]: # (    Vendor --|> Runnable : "implements")

[//]: # (    Customer --|> Runnable : "implements")

[//]: # (    Vendor --> TicketPool : "adds tickets to")

[//]: # (    Customer --> TicketPool : "retrieves tickets from")

[//]: # ()
[//]: # (%% Logs and errors)

[//]: # (    Vendor --> Logger : "logs activities")

[//]: # (    Customer --> Logger : "logs activities")

[//]: # (    Vendor --> ErrorHandler : "handles errors")

[//]: # (    Customer --> ErrorHandler : "handles errors")

[//]: # ()
[//]: # (%% JPA Relationships)

[//]: # (    class Ticket {)

[//]: # (        <<Entity>>)

[//]: # (        + @Id)

[//]: # (        + @GeneratedValue&#40;strategy = GenerationType.IDENTITY&#41;)

[//]: # (        + Long id)

[//]: # (        + String eventName)

[//]: # (        + Integer availableTickets)

[//]: # (        + addTickets&#40;int count&#41;)

[//]: # (        + removeTicket&#40;&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class TicketRepository {)

[//]: # (        <<Repository>>)

[//]: # (        + Ticket save&#40;Ticket ticket&#41;)

[//]: # (        + Optional~Ticket~ findById&#40;Long id&#41;)

[//]: # (    })

[//]: # ()
[//]: # (    class User {)

[//]: # (        <<Entity>>)

[//]: # (        + @Id)

[//]: # (        + @GeneratedValue&#40;strategy = GenerationType.IDENTITY&#41;)

[//]: # (        + Long id)

[//]: # (        + String username)

[//]: # (        + String password)

[//]: # (        + String roles)

[//]: # (    })

[//]: # ()
[//]: # (    class UserRepository {)

[//]: # (        <<Repository>>)

[//]: # (        + Optional~User~ findByUsername&#40;String username&#41;)

[//]: # (    })

[//]: # ()
[//]: # (```)